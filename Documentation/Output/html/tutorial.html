<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>Game Jolt Unity API: Getting Started</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Game Jolt Unity API
   &#160;<span id="projectnumber">v2.3.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Getting Started </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Setup</h1>
<h2>Create your game on Game Jolt</h2>
<ol type="1">
<li>Select <em>Dashboard</em> from the top menu.</li>
<li>Select <em>Add Game</em> from the sidebar.</li>
<li>Follow the steps. Just make sure to select <em>Unity</em> under <em>Engine/Language/Creation Tool</em>.</li>
<li>Select <em>Game API</em> from the game page menu. From there, you can navigate between the 5 categories:<ul>
<li><em>Overview:</em> See basic stats about your game.</li>
<li><em>Trophies:</em> Create and view trophies. Notice how each trophy has and <em>ID</em>, you'll need this later.</li>
<li><em>Scores:</em> Create and view highscores tables (and manage scores). There should already be a default table. Notice how each table has an <em>ID</em>, you'll need this later.</li>
<li><em>Data Storage:</em> Manage data storage.</li>
<li><em>API Settings:</em> This is where you can find you <em>Game ID</em> and your <em>Private Key</em>, you'll need this later.</li>
</ul>
</li>
</ol>
<h2>Import the package in Unity</h2>
<ol type="1">
<li><a class="el" href="downloads.html">Download</a> the Unity Package.</li>
<li>Right click in the <em>Project</em> tab.</li>
<li>Select <em>Import Package &gt; Custom Package...</em> and locate the <em>Unity Package</em>.</li>
</ol>
<h2>Configure the API</h2>
<h3>Settings</h3>
<ol type="1">
<li>Select <em>Edit &gt; Project Settings &gt; Game Jolt API</em>.</li>
<li>Fill the <em>Game ID</em> and <em>Private Key</em>.</li>
</ol>
<p>There's quite a few options here, let's get through them:</p>
<ul>
<li><em>Timeout:</em> The time in seconds before an API call should timeout and return failure.</li>
<li><em>Auto Ping:</em> Automatically create and ping sessions once a user has been authentified. Turn it off to handle it yourself.</li>
<li><em>Use Caching:</em> Cache High Score Tables and Trophies information for faster display.</li>
<li><em>Auto Connect:</em> AutoConnect in the Editor as if the game was hosted on <a class="el" href="namespace_game_jolt.html">GameJolt</a>.</li>
<li><em>User:</em> The username to use for AutoConnect.</li>
<li><em>Token:</em> The token to use for AutoConnect. <em>Important Note: Passwords and Tokens are different things on <a class="el" href="namespace_game_jolt.html">GameJolt</a>. You can find your token on <a class="el" href="namespace_game_jolt.html">GameJolt</a> by clicking on your user picture then selecting <code>Game Token</code>.</em></li>
</ul>
<p><b>Tip:</b> Leave your mouse above the option in the inspector to see its description.</p>
<h3>Prefab</h3>
<ol type="1">
<li>Open your first scene (the first that will load).</li>
<li>Select <em>GameObject &gt; Game Jolt API Manager</em> to add the prefab to the scene.</li>
</ol>
<p><b>Tip:</b> Technically it doesn't have to be the very first scene. If your scene flow is something like <em>splash screen &gt; main menu &gt; game</em> and that you don't call the API at all in your <em>splash screen</em> scene, you can import the prefab in the <em>main menu</em> scene. However, it is highly recommended to still import it in the very first scene so everything will be ready when you need it (i.e. trophies will be caches, the user will be automatically logged in for web players, etc.).</p>
<p><b>Tip:</b> You can import the prefab in any scene for testing (so you don't have to load your game from the start every time) but remember to remove it before building your game and only leave the first one.</p>
<h1>Sign in</h1>
<p>Authentication is the corner stone of the API. If you user isn't signed in, you won't have access to trophies and sessions. All you can do is post scores as guest. Let's fix that!</p>
<h2>Web Player and WebGL builds</h2>
<p>For <em>Web Player</em> or <em>WebGL</em> builds hosted on Game Jolt the player will automatically be signed in. This is how you check if a player is currently signed in or not (Guest).</p>
<div class="fragment"><div class="line">bool isSignedIn = GameJolt.API.Manager.Instance.CurrentUser != null;</div></div><!-- fragment --><h2>Standalone Builds</h2>
<h3>Default UI</h3>
<p>For standalone builds, you have to sign the player yourself in. The easiest way is to display the default sign in form.</p>
<div class="fragment"><div class="line">GameJolt.UI.Manager.Instance.ShowSignIn();</div></div><!-- fragment --><p>You can also pass a callback to get notified whether the player has signed in or not.</p>
<div class="fragment"><div class="line">GameJolt.UI.Manager.Instance.ShowSignIn(</div><div class="line">  (bool signInSuccess) =&gt; {</div><div class="line">    Debug.Log(string.Format(&quot;Sign-in {0}&quot;, signInSuccess ? &quot;successful&quot; : &quot;failed or user&#39;s dismissed the window&quot;));</div><div class="line">  },</div><div class="line">  (bool userFetchedSuccess) =&gt; {</div><div class="line">    Debug.Log(string.Format(&quot;User details fetched {0}&quot;, signInSuccess ? &quot;successfully&quot; : &quot;failed&quot;));</div><div class="line">  }</div><div class="line">});</div></div><!-- fragment --><p>As you can see, there are 2 callbacks. The first one returns as soon as the user is logged in, however some attributes (e.g. <code>user.AvatarURL</code>) will not be populated yet (this is also when the window is dismissed). The second one returns once all the users attributes have been populated (minus <code>user.Avatar</code> for which you have to manually call <code>user.DownloadAvatar()</code>). Depending on what you are the most interested, you will probably only subscribe to one callback like so:</p>
<div class="fragment"><div class="line">// Get the callback as soon as the user is signed-in.</div><div class="line">GameJolt.UI.Manager.Instance.ShowSignIn((bool signInSuccess) =&gt; { /* Do Something */ });</div><div class="line"></div><div class="line">// Get the callback once all the user&#39;s information have been fetched.</div><div class="line">GameJolt.UI.Manager.Instance.ShowSignIn(null, (bool userFetchedSuccess) =&gt; { /* Do Something */ });</div></div><!-- fragment --><p><b>Tip:</b> If the manager prefab is in the current scene, you can even show this form without a single line of code! If you have a <em>Sign In with Game Jolt</em> button for example, in the <em>On Click</em> event listener field, drag the <em>GameJoltAPI &gt; UI</em> and select <em>Manager &gt; ShowSignIn ()</em> from the dropdown. However you cannot subscribe to callback this way.</p>
<h3>Custom UI</h3>
<p>If you don't like the default UI and use some custom UI that better fit your game that's fine too! Once you've got the user name and token sign him in manually.</p>
<div class="fragment"><div class="line">var user = new GameJolt.API.Objects.User(userName, userToken);</div><div class="line">user.SignIn(</div><div class="line">    (bool signInSuccess) =&gt; {</div><div class="line">        Debug.Log(string.Format(&quot;Sign-in {0}&quot;, signInSuccess ? &quot;successful&quot; : &quot;failed&quot;));</div><div class="line">    },</div><div class="line">    (bool userFetchedSuccess) =&gt; {</div><div class="line">        Debug.Log(string.Format(&quot;User details fetched {0}&quot;, signInSuccess ? &quot;successfully&quot; : &quot;failed&quot;));</div><div class="line">    }</div><div class="line">});</div></div><!-- fragment --><p>As you can see, there are 2 callbacks. The first one returns as soon as the user is logged in, however some attributes (e.g. <code>user.AvatarURL</code>) will not be populated yet. The second one returns once all the users attributes have been populated (minus <code>user.Avatar</code> for which you have to manually call <code>user.DownloadAvatar()</code>). Depending on what you are the most interested, you will probably only subscribe to one callback like so:</p>
<div class="fragment"><div class="line">var user = new GameJolt.API.Objects.User(userName, userToken);</div><div class="line"></div><div class="line">// Get the callback as soon as the user is signed-in.</div><div class="line">user.SignIn((bool signInSuccess) =&gt; { /* Do Something */ });</div><div class="line"></div><div class="line">// Get the callback once all the user&#39;s information have been fetched.</div><div class="line">user.SignIn(null, (bool userFetchedSuccess) =&gt; { /* Do Something */ });</div></div><!-- fragment --><h1>Sign Out</h1>
<div class="fragment"><div class="line">var isSignedIn = GameJolt.API.Manager.Instance.CurrentUser != null;</div><div class="line">if (isSignedIn)</div><div class="line">{</div><div class="line">    GameJolt.API.Manager.Instance.CurrentUser.SignOut();</div><div class="line">}</div></div><!-- fragment --><h1>Trophies</h1>
<p>Trophies need a signed in user.</p>
<p><b>Tip:</b> Trophies can benefit a lot from caching. Don't forget to enable <em>Use Caching</em> in the API settings.</p>
<h2>Unlock</h2>
<p>Unlocking a trophy will automatically show a notification. Future version of the API will allow you to turn this off.</p>
<div class="fragment"><div class="line">GameJolt.API.Trophies.Unlock(trophyID, (bool success) =&gt; {</div><div class="line">    if (success)</div><div class="line">    {</div><div class="line">        Debug.Log(&quot;Success!&quot;);</div><div class="line">    }</div><div class="line">    else</div><div class="line">    {</div><div class="line">        Debug.Log(&quot;Something went wrong&quot;);</div><div class="line">    }</div><div class="line">});</div></div><!-- fragment --><h2>Show</h2>
<h3>Default UI</h3>
<p>It's as simple as a single line!</p>
<div class="fragment"><div class="line">GameJolt.UI.Manager.Instance.ShowTrophies();</div></div><!-- fragment --><p><b>Tip:</b> If the manager prefab is in the current scene, you can even show this window without a single line of code! If you have a <em>Trophies Collection</em> button for example, in the <em>On Click</em> event listener field, drag the <em>GameJoltAPI &gt; UI</em> and select <em>Manager &gt; ShowTrophies ()</em> from the dropdown.</p>
<h3>Custom UI</h3>
<p>You can query one or more trophy and display it/them yourself.</p>
<p>Get one specific trophy.</p>
<div class="fragment"><div class="line">var trophyID = 26534;</div><div class="line">GameJolt.API.Trophies.Get(trophyID, (GameJolt.API.Objects.Trophy trophy) =&gt; {</div><div class="line">    if (trophy != null)</div><div class="line">    {</div><div class="line">        Debug.Log(string.Format(&quot;&gt; {0} - {1} - {2} - {3}Unlocked&quot;, trophy.Title, trophy.ID, trophy.Difficulty, trophy.Unlocked ? &quot;&quot; : &quot;Not &quot;));</div><div class="line">    }</div><div class="line">});</div></div><!-- fragment --><p>Get multiple trophies.</p>
<div class="fragment"><div class="line">var trophyIDs = new int[] { 68935, 26534, 34235 };</div><div class="line">GameJolt.API.Trophies.Get(trophyIDs, (GameJolt.API.Objects.Trophy[] trophies) =&gt; {</div><div class="line">    if (trophies != null)</div><div class="line">    {</div><div class="line">        foreach (var trophy in trophies.Reverse&lt;GameJolt.API.Objects.Trophy&gt;())</div><div class="line">        {</div><div class="line">            Debug.Log(string.Format(&quot;&gt; {0} - {1} - {2} - {3}Unlocked&quot;, trophy.Title, trophy.ID, trophy.Difficulty, trophy.Unlocked ? &quot;&quot; : &quot;Not &quot;));</div><div class="line">        }</div><div class="line">        Debug.Log(string.Format(&quot;Found {0} trophies.&quot;, trophies.Length));</div><div class="line">    }</div><div class="line">});</div></div><!-- fragment --><p>Or get all of them!</p>
<div class="fragment"><div class="line">GameJolt.API.Trophies.Get((GameJolt.API.Objects.Trophy[] trophies) =&gt; {</div><div class="line">    if (trophies != null)</div><div class="line">    {</div><div class="line">        foreach (var trophy in trophies.Reverse&lt;GameJolt.API.Objects.Trophy&gt;())</div><div class="line">        {</div><div class="line">            Debug.Log(string.Format(&quot;&gt; {0} - {1} - {2} - {3}Unlocked&quot;, trophy.Title, trophy.ID, trophy.Difficulty, trophy.Unlocked ? &quot;&quot; : &quot;Not &quot;));</div><div class="line">        }</div><div class="line">        Debug.Log(string.Format(&quot;Found {0} trophies.&quot;, trophies.Length));</div><div class="line">    }</div><div class="line">});</div></div><!-- fragment --><p>Take a look at the documentation to find more ways to query trophies.</p>
<h1>Scores</h1>
<h2>Add</h2>
<p>You can either add a score for a signed in player.</p>
<div class="fragment"><div class="line">int scoreValue = 1337; // The actual score.</div><div class="line">string scoreText = &quot;1337 kills&quot;; // A string representing the score to be shown on the website.</div><div class="line">int tableID = 94328; // Set it to 0 for main highscore table.</div><div class="line">string extraData = &quot;&quot;; // This will not be shown on the website. You can store any information.</div><div class="line"></div><div class="line">GameJolt.API.Scores.Add(scoreValue, scoreText, tableID, extraData, (bool success) =&gt; {</div><div class="line">    Debug.Log(string.Format(&quot;Score Add {0}.&quot;, success ? &quot;Successful&quot; : &quot;Failed&quot;));</div><div class="line">});</div></div><!-- fragment --><p>Or a guest.</p>
<div class="fragment"><div class="line">string guestName = &quot;Arthur Dent&quot;;</div><div class="line"></div><div class="line">GameJolt.API.Scores.Add(scoreValue, scoreText, guestName, tableID, extraData, (bool success) =&gt; {</div><div class="line">    Debug.Log(string.Format(&quot;Score Add {0}.&quot;, success ? &quot;Successful&quot; : &quot;Failed&quot;));</div><div class="line">});</div></div><!-- fragment --><p><b>Tip:</b> <em>Table ID</em> and <em>Extra Data</em> are optional. The former will default to the <em>primary</em> table as defined on your dashboard, the later will just be blank. This means that if you don't need the callback, you can add a score really simply <code>GameJolt.API.Scores.Add(scoreValue, scoreText);</code></p>
<h2>GetRank</h2>
<p>You can get a score value rank easily.</p>
<div class="fragment"><div class="line">int scoreValue = 10;</div><div class="line">int tableID = 0;</div><div class="line"></div><div class="line">GameJolt.API.Scores.GetRank(scoreValue, tableID, (int rank) =&gt; {</div><div class="line">    Debug.Log(string.Format(&quot;Rank {0}&quot;, rank));</div><div class="line">});</div></div><!-- fragment --><h2>Show</h2>
<h3>Default UI</h3>
<p>Show all the highscore tables with a single line of code.</p>
<div class="fragment"><div class="line">GameJolt.UI.Manager.Instance.ShowLeaderboards();</div></div><!-- fragment --><p><b>Tip:</b> If the manager prefab is in the current scene, you can even show this window without a single line of code! If you have a <em>Leaderboards</em> button for example, in the <em>On Click</em> event listener field, drag the <em>GameJoltAPI &gt; UI</em> and select <em>Manager &gt; ShowLeaderboards ()</em> from the dropdown.</p>
<h3>Custom UI</h3>
<p>Have a look at the documentation to see how to query <em>highscore tables</em> and <em>scores</em> to display them yourself.</p>
<h1>Sessions</h1>
<p>In order for session information (like <em>average session length</em>) to be available on your dashbaord, as soon as a user is signed in, you need to create a new session and then ping it on a regular basis. Luckily, the <em>Unity API</em> does it for you, just remember to enable <b>Auto Ping</b> in the <em>API settings</em> (and make sure to turn it off if you want to handle it yourself).</p>
<p>Check the documentation to manage sessions manually.</p>
<h1>Data Store</h1>
<p>Game Jolt allows you to save data in the cloud like game save (so the user can continue to play from another computer) or user generated content (community levels *hoop* *hoop*).</p>
<p>The data store function as a key/value store. The key is the name under which the data will be saved (like a variable in your code) and the value holds the value (who would have though ahah?). Be awayre that even if you store numerical values, you need to convert them as string before saving them.</p>
<p>Each key can either be global or belong to a specific user. Only the later require the user to be signed in.</p>
<p><b>Note:</b> <em>Game Jolt Game API</em> recently added a third case where the data is global but can only be modified by the user who initially created it. This is not supported by the <em>Unity API</em> just yet but is of course on the road map.</p>
<h2>Set data</h2>
<div class="fragment"><div class="line">string key = &quot;hp&quot;;</div><div class="line">string value = Player.health.toString(); // Player is an imaginary script.</div><div class="line">bool isGlobal = False;</div><div class="line"></div><div class="line">GameJolt.API.DataStore.Set(key, value, isGlobal, (bool success) =&gt; {});</div></div><!-- fragment --><h2>Get data</h2>
<div class="fragment"><div class="line">string key = &quot;hp&quot;;</div><div class="line">bool isGlobal = False;</div><div class="line"></div><div class="line">GameJolt.API.DataStore.Get(key, isGlobal, (string value) =&gt; {</div><div class="line">    if (value != null)</div><div class="line">    {</div><div class="line">        Player.health = float.Parse(value);</div><div class="line">    }</div><div class="line">});</div></div><!-- fragment --><h2>More</h2>
<p>Check the documentation to find out how to:</p>
<ul>
<li>Remove keys.</li>
<li>Update string data with <em>append/prepend</em> operations or numerical data with <em>add/subtract/multiply/delete</em> operations.</li>
<li>Retrieve all the saved keys.</li>
</ul>
<h1>Notifications</h1>
<p>You can use the <em>Unity API</em> notification system to display custom notifications.</p>
<div class="fragment"><div class="line">// Text only</div><div class="line">GameJolt.UI.Manager.Instance.QueueNotification(&quot;GameJolt is awesome!&quot;);</div><div class="line"></div><div class="line">// Text &amp; Image (UnityEngine.Sprite)</div><div class="line">GameJolt.UI.Manager.Instance.QueueNotification(&quot;GameJolt is awesome!&quot;, image);</div></div><!-- fragment --><h1>Time</h1>
<p>If your game uses timers (e.g. free gift every 24h), you might not be able to use the computer clock because the user might manipulate it. Instead, you want to fetch the server's time.</p>
<div class="fragment"><div class="line">GameJolt.API.Misc.GetTime((System.DateTime serverTime) =&gt; {</div><div class="line">    Debug.Log(string.Format(&quot;Server Time: {0}&quot;, time));</div><div class="line">});</div></div><!-- fragment --><h1>What else?</h1>
<p>It really just is a getting started tutorial. Have a look at the documentation to see what else you can do.</p>
<p>Also consider having a look at the <a href="https://github.com/loicteixeira/gj-unity-api/tree/master/Assets/Tests">test scenes</a>, especially the <code>console</code> one. While they aren't the easiest to digest, they provide a good example on how to use everything. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/>
<address class="footer">
  <small>
  Generated by <a href="http://www.doxygen.org/index.html">doxygen</a> 1.8.13
  </small>
</address>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-64719507-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
